<html lang="ja">
    <body><div id="all">
        <div id="context">
            <div id="timer">03:00:<span style="font-size: 50%;">00</span></div>
            <button id="start" onclick="timerStart()">start</button>
        </div>
        <div id="question">
            aaaaa
        </div>
    </div></body>
</html>

<script>
    let starttime;
    let maxtime = 180-1;//int
    let interval = null;

    function timerStart() {
        starttime = new Date();
        interval = setInterval(update,70);
        document.getElementById("start").style.display = "none";
    }

    function update (){
        const now = new Date();
        const timer = document.getElementById("timer");

        const delta = now.getTime() - starttime.getTime();
        const deltasec = Math.floor(delta/1000);

        const mm = (99 - Math.floor(delta/10) %100).toString().padStart(2,"0");
        const sec = Math.floor(((maxtime - deltasec) % 60)).toString().padStart(2,"0");
        const min = Math.floor((maxtime -deltasec)/60).toString().padStart(2,"0");
        timer.innerHTML = `${min}:${sec}:<span style="font-size: 50%;">${mm}</span>`;
        if(((maxtime+1)*1000 - delta) <= 0){
            reset();
        }
    }

    function reset(){
        clearInterval(interval);
        document.getElementById("timer").innerHTML = `00:00:<span style="font-size: 50%;">00</span>`;
        document.getElementById("start").style.display = "block";
    }
    </script>

<style>
    body{
        background-color: black;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    #all{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: min(95vw,95vh * 3);
        height: min(95vh,95vw * 3);
    }
    #context{background-color: bisque;
        display: flex;
        width: 100%;
        height: 50%;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }
    #timer{
        color: greenyellow;
        font-size: 25vw;
    }
    #question{background-color: blueviolet;
        color: white;
        display: flex;
        width: 100%;
        height: 50%;
        justify-content: center;
    }
</style>

